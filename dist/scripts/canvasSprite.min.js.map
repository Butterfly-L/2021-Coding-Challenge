{"version":3,"sources":["canvasSprite.js"],"names":["console","log","canvas","document","getElementById","ctx","getContext","width","height","spriteSheet","Image","src","webkitImageSmoothingEnabled","imageSmoothingEnabled","cols","rows","spriteWidth","spriteHeight","srcX","srcY","totalFrames","currentFrame","frameDrawn","animate","clearRect","drawImage","requestAnimationFrame","loadImage","onload"],"mappings":"AACAA,QAAQC,IAAI,iBACZ,MAAMC,OAASC,SAASC,eAAe,UACjCC,IAAMH,OAAOI,WAAW,MAC9BJ,OAAOK,MAAQ,IACfL,OAAOM,OAAS,IAGhB,MAAMC,YAAc,IAAIC,MACxBD,YAAYE,IAAI,gCAGhBN,IAAIO,6BAA8B,EAClCP,IAAIQ,uBAAwB,EAK5B,IAAIC,KAAO,EACPC,KAAO,EACPC,YAAc,KAAOF,KACrBG,aAAe,IAAMF,KAErBG,KAAO,EACPC,KAAO,EAGPC,YAAc,EACdC,aAAe,EACfC,WAAY,EAGhB,SAASC,UAGPlB,IAAImB,UAAU,EAAE,EAAEtB,OAAOK,MAAOL,OAAOM,QAIvCa,cAA8BD,YAE9BF,KAAOG,aAAeL,YACtBhB,QAAQC,IAAI,eAAeoB,cAC3BrB,QAAQC,IAAI,cAAcmB,aAC1BpB,QAAQC,IAAI,OAAOiB,MACnBlB,QAAQC,IAAI,cAAce,aAC1BhB,QAAQC,IAAI,eAAegB,cAM3BZ,IAAIoB,UAAUhB,YAAaS,KAAMC,KAAMH,YAAaC,aAAc,EAAE,EAAGD,YAAaC,cAKpFK,aAEGA,YAAY,KACbD,eACAC,WAAW,GAIbI,sBAAsBH,SAIxB,SAASI,YACPJ,UAIFd,YAAYmB,OAASD","file":"canvasSprite.min.js","sourcesContent":["//canvas 起手式\nconsole.log('canvas srpite')\nconst canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext('2d');\ncanvas.width = 600;\ncanvas.height = 600;\n\n//canvas 放圖片起手式\nconst spriteSheet = new Image();\nspriteSheet.src=\"../assets/canvasGame/test.png\";\n\n// 讓動畫放大也很好看\nctx.webkitImageSmoothingEnabled = false;\nctx.imageSmoothingEnabled = false;\n\n\n//spriteSheet的寬高除以圖片有幾格，就是一格的寬度和高度\n//這裡有五格，但只有一行\nlet cols = 5;\nlet rows = 1;\nlet spriteWidth = 1147 / cols;\nlet spriteHeight = 557 / rows;\n//圖片切割的起始點\nlet srcX = 0;\nlet srcY = 0;\n\n//這邊是控制速度用的～\nlet totalFrames = 5;\nlet currentFrame = 0;\nlet frameDrawn =0;\n\n\nfunction animate(){\n  \n  //先清掉畫布\n  ctx.clearRect(0,0,canvas.width, canvas.height);\n  \n  \n  //這邊用於數的概念來看現在是第幾格了～等到第五格上限時，currentFrame又回從一開始～\n  currentFrame = currentFrame % totalFrames;\n  //現在這個是第幾格 = \n  srcX = currentFrame * spriteWidth;\n  console.log('currentFrame'+currentFrame);\n  console.log('totalFrames'+totalFrames);\n  console.log('srcX'+srcX);\n  console.log('spriteWidth'+spriteWidth);\n  console.log('spriteHeight'+spriteHeight);\n\n  \n\n  //   resizeImage();\n  // ctx.drawImage(spriteSheet, srcX, srcY, spriteWidth, spriteHeight, 0,0 ,spriteWidth, spriteHeight);\n  ctx.drawImage(spriteSheet, srcX, srcY, spriteWidth, spriteHeight, 0,0 ,spriteWidth, spriteHeight);\n  // ctx.drawImage(spriteSheet, 0, srcY, 0,0 );\n  \n  //就是這邊控制速度\n  //等於是這個animate被呼叫10次以後，currentFrame才會前進一格，以控制速度\n  frameDrawn++;\n\n  if(frameDrawn>=10){\n    currentFrame++;\n    frameDrawn=0;\n  }\n\n  //重複呼叫自己\n  requestAnimationFrame(animate);\n}\n\n\nfunction loadImage(){\n  animate();\n}\n\n//異步操作，讓圖片載入後才執行\nspriteSheet.onload = loadImage();\n\n// ref: https://www.youtube.com/watch?v=MHGgVlrlkYc&t=907s"]}